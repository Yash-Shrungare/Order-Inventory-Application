<!DOCTYPE html>
<html>

<head>
    <title>Order List</title>
</head>

<body>
    <div class="container custom-container">
        <h3 class="mt-4">Order List</h3>
        <div class="card">
            <div class="card-header">
                <h5>Find by :</h5>
                <div class="row my-3">
                    <div class="col-md-2">
                        <select class="form-select" name="option" [(ngModel)]="option" (change)="selectOption()">
                            <option value="1">Add Order</option>
                            <option value="2">Get by Order Status</option>
                            <option value="3">Get by store name</option>
                            <option value="4">Get all Orders</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <input type="text" placeholder="input" class="form-control" (keyup)="search()" name="inputData"
                            [(ngModel)]="inputData">
                    </div>
                    <div class="col-md-2">
                        <button type="button" class="btn btn-outline-primary" (click)="getStatusCount()">Counts by
                            status</button>
                    </div>
                    <div class="col-md-5">
                        <div class="row">
                            <div class="col">
                                <h6>CANCELLED COUNTS: {{status.cancelledCount}}</h6>
                            </div>
                            <div class="col">
                                <h6>COMPLETE COUNTS: {{status.completeCount}}</h6>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row my-3" *ngIf="option == 1">
                    <div class="col-md-3">
                        <a href="/add-order" class="btn btn-secondary">Add Order</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-striped mt-4">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th *ngIf="option != 3">Order Tms</th>
                        <th *ngIf="option != 3">Customer ID</th>
                        <th>Order Status</th>
                        <th *ngIf="option != 3">Store ID</th>
                        <th *ngIf="option == 3">Store Name</th>
                        <th *ngIf="option == 3">Web Address</th>
                        <th>Update</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of pagedOrders">
                        <td>{{ item.orderId }}</td>
                        <td *ngIf="option != 3">{{ item.orderTms }}</td>
                        <td *ngIf="option != 3">{{ item.customerId }}</td>
                        <td>{{ item.orderStatus }}</td>
                        <td *ngIf="option != 3">{{ item.storeId }}</td>
                        <td *ngIf="option == 3">{{ item.storeName }}</td>
                        <td *ngIf="option == 3">{{ item.webAddress }}</td>
                        <td><a href="update-order/{{ item.orderId }}" class="btn btn-outline-dark">Update</a></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <nav aria-label="Page navigation" class="pagination-container">
          <ul class="pagination">
              <li class="page-item" [class.disabled]="currentPage === 1">
                  <a class="page-link" (click)="goToPage(1)">First</a>
              </li>
              <li class="page-item" [class.disabled]="currentPage === 1">
                  <a class="page-link" (click)="goToPage(currentPage - 1)">Previous</a>
              </li>
              <li class="page-item" *ngFor="let page of visiblePages" [class.active]="currentPage === page">
                  <a class="page-link pagination-link" (click)="goToPage(page)">{{ page }}</a>
              </li>
              <li class="page-item" [class.disabled]="currentPage === totalPages">
                  <a class="page-link" (click)="goToPage(currentPage + 1)">Next</a>
              </li>
              <li class="page-item" [class.disabled]="currentPage === totalPages">
                  <a class="page-link" (click)="goToPage(totalPages)">Last</a>
              </li>
          </ul>
      </nav>
    </div>

    <!-- <script src=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js></script> -->
</body>

</html>
